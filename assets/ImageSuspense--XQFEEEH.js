import{r as h,u as te,a as ae,b as H,e as oe,d as ne,f as K,g as se,j as L}from"./index-C5ztH4Zp.js";const re="Error preloading route! ☝️";function le(o){const a=te(),[i,l]=h.useState(!1),{activeProps:j=()=>({className:"active"}),inactiveProps:c=()=>({}),activeOptions:n,hash:ce,search:ue,params:de,to:R,state:he,mask:pe,preload:M,preloadDelay:z,replace:B,startTransition:_,resetScroll:q,viewTransition:O,children:w,target:u,disabled:s,style:p,className:f,onClick:v,onFocus:m,onMouseEnter:y,onMouseLeave:T,onTouchStart:g,ignoreBlocker:U,...C}=o;let x="internal";try{new URL(`${R}`),x="external"}catch{}const r=a.buildLocation(o),D=M??a.options.defaultPreload,W=z??a.options.defaultPreloadDelay??0,P=ae({select:e=>{const t=H(e.location.pathname,a.basepath).split("/"),E=H(r.pathname,a.basepath).split("/").every((Z,ee)=>Z===t[ee]),V=n!=null&&n.exact?oe(e.location.pathname,r.pathname,a.basepath):E,X=n!=null&&n.includeHash?e.location.hash===r.hash:!0,Y=(n==null?void 0:n.includeSearch)??!0?ne(e.location.search,r.search,!(n!=null&&n.exact)):!0;return V&&X&&Y}});if(x==="external")return{...C,type:x,href:R,...w&&{children:w},...u&&{target:u},...s&&{disabled:s},...p&&{style:p},...f&&{className:f},...v&&{onClick:v},...m&&{onFocus:m},...y&&{onMouseEnter:y},...T&&{onMouseLeave:T},...g&&{onTouchStart:g}};const $=e=>{if(!s&&!ie(e)&&!e.defaultPrevented&&(!u||u==="_self")&&e.button===0){e.preventDefault(),se.flushSync(()=>{l(!0)});const t=a.subscribe("onResolved",()=>{t(),l(!1)});a.commitLocation({...r,replace:B,resetScroll:q,startTransition:_,viewTransition:O,ignoreBlocker:U})}},N=()=>{a.preloadRoute(o).catch(e=>{console.warn(e),console.warn(re)})},I=e=>{s||D&&N()},G=I,J=e=>{if(s)return;const t=e.target||{};if(D){if(t.preloadTimeout)return;t.preloadTimeout=setTimeout(()=>{t.preloadTimeout=null,N()},W)}},Q=e=>{if(s)return;const t=e.target||{};t.preloadTimeout&&(clearTimeout(t.preloadTimeout),t.preloadTimeout=null)},d=e=>t=>{var k;(k=t.persist)==null||k.call(t),e.filter(Boolean).forEach(E=>{t.defaultPrevented||E(t)})},S=P?K(j,{})??{}:{},b=P?{}:K(c,{}),A=[f,S.className,b.className].filter(Boolean).join(" "),F={...p,...S.style,...b.style};return{...S,...b,...C,href:s?void 0:r.maskedLocation?a.history.createHref(r.maskedLocation.href):a.history.createHref(r.href),onClick:d([v,$]),onFocus:d([m,I]),onMouseEnter:d([y,J]),onMouseLeave:d([T,Q]),onTouchStart:d([g,G]),disabled:!!s,target:u,...Object.keys(F).length&&{style:F},...A&&{className:A},...s&&{role:"link","aria-disabled":!0},...P&&{"data-status":"active","aria-current":"page"},...i&&{"data-transitioning":"transitioning"}}}const ve=h.forwardRef((o,a)=>{const{_asChild:i,...l}=o,{type:j,...c}=le(l),n=typeof l.children=="function"?l.children({isActive:c["data-status"]==="active"}):l.children;return typeof i>"u"&&delete c.disabled,h.createElement(i||"a",{...c,ref:a},n)});function ie(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function me(o){return L.jsx(h.Suspense,{fallback:L.jsx("div",{style:{textAlign:"center",color:"white",fontSize:"20px"},children:"Loading..."}),children:L.jsx("img",{...o})})}export{me as I,ve as L};
