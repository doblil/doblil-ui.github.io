import{r as E,u as ee,a as te,b as M,e as ae,d as oe,f as A,g as ne}from"./index-C1AnewN7.js";const re="Error preloading route! ☝️";function se(o){const a=ee(),[i,l]=E.useState(!1),{activeProps:L=()=>({className:"active"}),inactiveProps:c=()=>({}),activeOptions:n,hash:ie,search:ce,params:ue,to:C,state:de,mask:he,preload:B,preloadDelay:I,replace:_,startTransition:j,resetScroll:q,viewTransition:z,children:D,target:u,disabled:r,style:h,className:p,onClick:f,onFocus:v,onMouseEnter:m,onMouseLeave:y,onTouchStart:T,ignoreBlocker:O,...N}=o;let P="internal";try{new URL(`${C}`),P="external"}catch{}const s=a.buildLocation(o),R=B??a.options.defaultPreload,U=I??a.options.defaultPreloadDelay??0,g=te({select:e=>{const t=M(e.location.pathname,a.basepath).split("/"),x=M(s.pathname,a.basepath).split("/").every((Y,Z)=>Y===t[Z]),Q=n!=null&&n.exact?ae(e.location.pathname,s.pathname,a.basepath):x,V=n!=null&&n.includeHash?e.location.hash===s.hash:!0,X=(n==null?void 0:n.includeSearch)??!0?oe(e.location.search,s.search,!(n!=null&&n.exact)):!0;return Q&&V&&X}});if(P==="external")return{...N,type:P,href:C,...D&&{children:D},...u&&{target:u},...r&&{disabled:r},...h&&{style:h},...p&&{className:p},...f&&{onClick:f},...v&&{onFocus:v},...m&&{onMouseEnter:m},...y&&{onMouseLeave:y},...T&&{onTouchStart:T}};const W=e=>{if(!r&&!le(e)&&!e.defaultPrevented&&(!u||u==="_self")&&e.button===0){e.preventDefault(),ne.flushSync(()=>{l(!0)});const t=a.subscribe("onResolved",()=>{t(),l(!1)});a.commitLocation({...s,replace:_,resetScroll:q,startTransition:j,viewTransition:z,ignoreBlocker:O})}},w=()=>{a.preloadRoute(o).catch(e=>{console.warn(e),console.warn(re)})},F=e=>{r||R&&w()},$=F,G=e=>{if(r)return;const t=e.target||{};if(R){if(t.preloadTimeout)return;t.preloadTimeout=setTimeout(()=>{t.preloadTimeout=null,w()},U)}},J=e=>{if(r)return;const t=e.target||{};t.preloadTimeout&&(clearTimeout(t.preloadTimeout),t.preloadTimeout=null)},d=e=>t=>{var k;(k=t.persist)==null||k.call(t),e.filter(Boolean).forEach(x=>{t.defaultPrevented||x(t)})},b=g?A(L,{})??{}:{},S=g?{}:A(c,{}),H=[p,b.className,S.className].filter(Boolean).join(" "),K={...h,...b.style,...S.style};return{...b,...S,...N,href:r?void 0:s.maskedLocation?a.history.createHref(s.maskedLocation.href):a.history.createHref(s.href),onClick:d([f,W]),onFocus:d([v,F]),onMouseEnter:d([m,G]),onMouseLeave:d([y,J]),onTouchStart:d([T,$]),disabled:!!r,target:u,...Object.keys(K).length&&{style:K},...H&&{className:H},...r&&{role:"link","aria-disabled":!0},...g&&{"data-status":"active","aria-current":"page"},...i&&{"data-transitioning":"transitioning"}}}const fe=E.forwardRef((o,a)=>{const{_asChild:i,...l}=o,{type:L,...c}=se(l),n=typeof l.children=="function"?l.children({isActive:c["data-status"]==="active"}):l.children;return typeof i>"u"&&delete c.disabled,E.createElement(i||"a",{...c,ref:a},n)});function le(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}export{fe as L};
